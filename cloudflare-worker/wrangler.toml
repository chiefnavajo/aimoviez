# Cloudflare Worker â€” Edge Rate Limiting for aimoviez
# Deploy: cd cloudflare-worker && npx wrangler deploy

name = "aimoviez-rate-limiter"
main = "src/index.ts"
compatibility_date = "2024-12-01"

# KV namespace for rate limit counters
# Create with: npx wrangler kv:namespace create RATE_LIMITS
# Then replace the id below with your actual namespace ID
[[kv_namespaces]]
binding = "RATE_LIMITS"
id = "d08a583ec7c14f27907474884a7ba894"

# Routes: intercept API traffic on aimoviez.app for rate limiting
[[routes]]
pattern = "aimoviez.app/api/*"
zone_id = "d3b8e5d85d3df9fab5e729b9f4479514"

[[routes]]
pattern = "www.aimoviez.app/api/*"
zone_id = "d3b8e5d85d3df9fab5e729b9f4479514"
